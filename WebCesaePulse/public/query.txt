select `users`.`name`, `users`.`foto`, `presence_record`.`entry_time`, `presence_record`.`date`, `presence_record`.`exit_time`, `attendance_mode`.`description` from `presence_record` inner join `users` on `users`.`id` = `presence_record`.`user_id` inner join `attendance_mode` on `attendance_mode`.`id` = `presence_record`.`attendance_mode_id` where date(`presence_record`.`date`) = ? and `name` LIKE ? and `attendance_mode_id` = ? order by `presence_record`.`entry_time` desc